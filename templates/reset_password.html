{% extends "base.html" %}
{% block content %}
<section class="main-content">
    <h1>Reset Password</h1>
    <a href="{{ url_for('admin') }}" class="primary">Return to Admin Dashboard</a>
    <form method="POST" id="resetPasswordForm">
        <label for="new_password">New Password</label>
        <input type="password" name="new_password" id="new_password" required>
        
        <label for="confirm_password">Confirm New Password</label>
        <input type="password" name="confirm_password" id="confirm_password" required>
        
        <button type="submit" class="primary">Reset Password</button>
    </form>
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <ul>
                {% for message in messages %}
                    <li>{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}
</section>

<script>
document.getElementById('resetPasswordForm').addEventListener('submit', function(event) {
    var newPassword = document.getElementById('new_password').value;
    var confirmPassword = document.getElementById('confirm_password').value;

    if (newPassword !== confirmPassword) {
        alert("Passwords do not match!");
        event.preventDefault();
    }
});
</script>
{% endblock %}
